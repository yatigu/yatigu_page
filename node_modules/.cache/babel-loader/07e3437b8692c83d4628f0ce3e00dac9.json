{"ast":null,"code":"var _jsxFileName = \"/Users/sinsanghun/yatigu_page/src/component/Menu.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Station from './Station';\nimport './Menu.css'; // import Reservation from './Reservation';\n\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Modal from './Modal';\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default\n    }\n  }\n}))(TableRow);\n\nfunction createData(classification, stratPoint, trainNumber, endPoint) {\n  return {\n    classification,\n    stratPoint,\n    trainNumber,\n    endPoint\n  };\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 400\n  }\n});\n\nconst Menu = () => {\n  const [from, setFrom] = useState();\n  const [to, setTo] = useState(); //   const [tdata, setData] = useState();\n\n  const [rows, setRows] = useState([]);\n  const [tdate, setDate] = useState();\n  const [time, setTime] = useState();\n  const classes = useStyles();\n  const [ss, setSs] = useState(false);\n  const [isModalOpen, toggleModal] = useState(false);\n\n  const searchTickets = () => {\n    // let frd = new FormData();\n    // frd.append('date', '20200202');\n    // frd.append('hour', '160000');\n    // frd.append('start', '서울');\n    // frd.append('end', '부산');\n    // console.log(frd) // body form-data를 넘길때 사용\n    try {\n      console.log(tdate, time, from, to);\n      axios.get('http://15.165.170.3:8000/info/tickets/', {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        params: {\n          // date: tdate,\n          // hour: time,\n          // start: from,\n          // end: to,\n          date: '20200228',\n          hour: '160000',\n          start: '서울',\n          end: '부산'\n        }\n      }).then(response => {\n        //   setData(response.data.tickets);\n        const data = response.data.tickets;\n        let temp = [];\n\n        for (var i in response.data.tickets) {\n          temp = temp.concat(createData(data[i].구분, data[i].출발시간, data[i].열차번호, data[i].도착시간));\n          setSs(true);\n        }\n\n        setRows(temp);\n        return true;\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"fieldlist\", {\n    className: \"station-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    className: \"menu-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"\\uC2B9\\uCC28\\uAD8C \\uC608\\uB9E4\\uD558\\uAE30\"), React.createElement(\"ul\", {\n    className: \"menu-ul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"li-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"menu-leg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \" \\uCD9C\\uBC1C\\uC5ED \"), React.createElement(Station, {\n    setStation: setFrom,\n    station: from,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }))), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"li-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"menu-leg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \" \\uB3C4\\uCC29\\uC5ED \"), React.createElement(Station, {\n    setStation: setTo,\n    station: to,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"li-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"date-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"\\uCD9C\\uBC1C\\uC77C \"), React.createElement(\"input\", {\n    className: \"menu-input-date\",\n    type: \"date\",\n    name: \"date\",\n    onChange: e => {\n      setDate(e.target.value.replace(/-/gi, ''));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }))), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"li-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"time-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"\\uC2DC\\uAC04\"), React.createElement(\"input\", {\n    className: \"menu-input-time\",\n    type: \"time\",\n    name: \"time\",\n    onChange: e => {\n      setTime(e.target.value.replace(/:/gi, '').concat('00'));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: searchTickets,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"\\uAE30\\uCC28 \\uAC80\\uC0C9\\uD558\\uAE30\"), \" \", ss && React.createElement(\"button\", {\n    onClick: () => {\n      toggleModal(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"\\uB85C\\uADF8\\uC778 \\uD6C4 \\uC790\\uB3D9 \\uC608\\uB9E4\"), React.createElement(Modal, {\n    isOpen: isModalOpen,\n    toggle: toggleModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"\\uB85C\\uADF8\\uC778\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"id\"), React.createElement(\"input\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"pw\"), React.createElement(\"input\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"\\uC790\\uB3D9 \\uC608\\uC57D \\uD558\\uAE30 \\uBC84\\uD2BC\"))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"customized table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(StyledTableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"\\uAD6C\\uBD84\"), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"\\uCD9C\\uBC1C\\uC2DC\\uAC04\"), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"\\uC5F4\\uCC28\\uBC88\\uD638\"), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"\\uB3C4\\uCC29\\uC2DC\\uAC04\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, rows.map(row => React.createElement(StyledTableRow, {\n    key: row.index,\n    onClick: () => {\n      console.log(row);\n      rows.length = 0;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(StyledTableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, row.classification), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, row.stratPoint), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, row.trainNumber), React.createElement(StyledTableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, row.endPoint))))))));\n};\n\nexport default Menu;","map":{"version":3,"sources":["/Users/sinsanghun/yatigu_page/src/component/Menu.js"],"names":["React","useState","axios","Station","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Modal","StyledTableCell","theme","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","root","background","default","createData","classification","stratPoint","trainNumber","endPoint","useStyles","table","minWidth","Menu","from","setFrom","to","setTo","rows","setRows","tdate","setDate","time","setTime","classes","ss","setSs","isModalOpen","toggleModal","searchTickets","console","log","get","headers","params","date","hour","start","end","then","response","data","tickets","temp","i","concat","구분","출발시간","열차번호","도착시간","e","target","value","replace","map","row","index","length"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport Station from './Station';\nimport './Menu.css';\n// import Reservation from './Reservation';\nimport {withStyles, makeStyles} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Modal from './Modal';\n\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n  },\n  body: {\n    fontSize: 14,\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n}))(TableRow);\n\nfunction createData(classification, stratPoint, trainNumber, endPoint) {\n  return {classification, stratPoint, trainNumber, endPoint};\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 400,\n  },\n});\n\nconst Menu = () => {\n  const [from, setFrom] = useState();\n  const [to, setTo] = useState();\n  //   const [tdata, setData] = useState();\n  const [rows, setRows] = useState([]);\n  const [tdate, setDate] = useState();\n  const [time, setTime] = useState();\n  const classes = useStyles();\n  const [ss,setSs] = useState(false);\n  const [isModalOpen, toggleModal] = useState(false); \n\n  const searchTickets = () => {\n    // let frd = new FormData();\n\n    // frd.append('date', '20200202');\n    // frd.append('hour', '160000');\n    // frd.append('start', '서울');\n    // frd.append('end', '부산');\n\n    // console.log(frd) // body form-data를 넘길때 사용\n    try {\n        console.log(tdate, time, from, to)\n      axios\n        .get('http://15.165.170.3:8000/info/tickets/', {\n          headers: {'Content-Type': 'multipart/form-data'},\n          params: {\n            // date: tdate,\n            // hour: time,\n            // start: from,\n            // end: to,\n            date: '20200228',\n            hour: '160000',\n            start: '서울',\n            end: '부산',\n          },\n        })\n        .then(response => {\n          //   setData(response.data.tickets);\n          const data = response.data.tickets;\n          let temp = [];\n          for (var i in response.data.tickets) {\n            temp = temp.concat(\n              createData(\n                data[i].구분,\n                data[i].출발시간,\n                data[i].열차번호,\n                data[i].도착시간,\n              )\n            );\n            setSs(true);\n          }\n\n          setRows(temp);\n          return true;\n        });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <>\n     \n      <div >\n        <fieldlist className=\"station-wrapper\">\n          <legend className=\"menu-title\">승차권 예매하기</legend>\n          <ul className=\"menu-ul\">\n            <li className=\"li-wrapper\">\n              <label className=\"menu-leg\"> 출발역 </label>\n              <Station setStation={setFrom} station={from}></Station>\n            </li>\n          </ul>\n          <ul>\n            <li className=\"li-wrapper\">\n              <label className=\"menu-leg\"> 도착역 </label>\n              <Station setStation={setTo} station={to}></Station>\n            </li>\n          </ul>\n          <ul>\n            <li className=\"li-wrapper\">\n              <label className=\"date-wrapper\">출발일 </label>\n              <input className=\"menu-input-date\" type=\"date\" name=\"date\" onChange  = {(e) => {setDate(e.target.value.replace(/-/gi,''))}}/>\n            </li>\n          </ul>\n          <ul>\n            <li className=\"li-wrapper\">\n              <label className=\"time-wrapper\">시간</label>\n              <input className=\"menu-input-time\" type=\"time\" name=\"time\" onChange  = {(e) => {setTime(e.target.value.replace(/:/gi,'').concat('00')) }}/>\n            </li>\n          </ul>\n          <div>\n            <button onClick={searchTickets}>기차 검색하기</button> {ss && <button onClick = {()=>{toggleModal(true)}}>로그인 후 자동 예매</button>}\n            <Modal isOpen = { isModalOpen } toggle = { toggleModal } >\n                   <h1>로그인</h1>\n                   <label>id</label><input></input>\n                   <label>pw</label><input></input>\n                   <button>자동 예약 하기 버튼</button>\n            </Modal>\n          </div>\n        </fieldlist>\n      </div>\n      <div>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"customized table\">\n            <TableHead>\n              <TableRow>\n                <StyledTableCell>구분</StyledTableCell>\n                <StyledTableCell align=\"right\">출발시간</StyledTableCell>\n                <StyledTableCell align=\"right\">열차번호</StyledTableCell>\n                <StyledTableCell align=\"right\">도착시간</StyledTableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {rows.map(row => (\n                <StyledTableRow key={row.index} onClick = {()=>{console.log(row); rows.length=0;}}>\n                  <StyledTableCell component=\"th\" scope=\"row\">\n                    {row.classification}\n                  </StyledTableCell>\n                  <StyledTableCell align=\"right\">\n                    {row.stratPoint}\n                  </StyledTableCell>\n                  <StyledTableCell align=\"right\">{row.trainNumber}</StyledTableCell>\n                  <StyledTableCell align=\"right\">{row.endPoint}</StyledTableCell>\n                </StyledTableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    </>\n  );\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}